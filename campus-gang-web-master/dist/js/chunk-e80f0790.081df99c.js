(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e80f0790"],{"0255":function(t,s,e){"use strict";e.r(s);var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content",class:t.isShow?"s--signup":""},[e("div",{staticClass:"form"},[e("h2",[t._v("欢迎回来")]),e("label",[e("span",[t._v("学号(纯数字)")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.studentId,expression:"studentId"}],attrs:{type:"text",oninput:"value=value.replace(/[^\\d]/g,'')"},domProps:{value:t.studentId},on:{input:function(s){s.target.composing||(t.studentId=s.target.value)}}})]),e("label",[e("span",[t._v("密码")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})]),t._m(0),e("el-select",{staticClass:"school",attrs:{placeholder:"请选择"},model:{value:t.schoolId,callback:function(s){t.schoolId=s},expression:"schoolId"}},t._l(t.school,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._m(1),e("button",{staticClass:"submit",attrs:{type:"button"},on:{click:function(s){return t.toLogin("sign")}}},[t._v("登 录")])],1),e("div",{staticClass:"sub-cont"},[e("div",{staticClass:"img"},[t._m(2),t._m(3),e("div",{staticClass:"img__btn",on:{click:function(s){t.isShow=!t.isShow}}},[e("span",{staticClass:"m--up"},[t._v("注 册")]),e("span",{staticClass:"m--in"},[t._v("登 录")])])]),e("div",{staticClass:"form sign-up"},[e("h2",[t._v("立即注册")]),e("label",[e("span",[t._v("学号(纯数字)")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.studentId,expression:"studentId"}],attrs:{type:"text",oninput:"value=value.replace(/[^\\d]/g,'')"},domProps:{value:t.studentId},on:{input:function(s){s.target.composing||(t.studentId=s.target.value)}}})]),e("label",[e("span",[t._v("密码")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})]),t._m(4),e("el-select",{staticClass:"school",attrs:{placeholder:"请选择"},model:{value:t.schoolId,callback:function(s){t.schoolId=s},expression:"schoolId"}},t._l(t.school,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),e("button",{staticClass:"submit",attrs:{type:"button"},on:{click:function(s){return t.toLogin("register")}}},[t._v("注 册")])],1)])])},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("label",[e("span",{staticStyle:{"margin-bottom":"20px"}},[t._v("选择学校")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",{staticClass:"forgot-pass"},[e("a",{attrs:{href:"javascript:"}},[t._v("忘记密码？")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"img__text m--up"},[e("h2",[t._v("还未注册？")]),e("p",[t._v("立即注册，发现大量机会！")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"img__text m--in"},[e("h2",[t._v("已有帐号？")]),e("p",[t._v("有帐号就登录吧，好久不见了！")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("label",[e("span",{staticStyle:{"margin-bottom":"20px"}},[t._v("选择学校")])])}];e("ac1f"),e("1276");var i={name:"Login",data:function(){return{isShow:!1,studentId:"",password:"",school:[],schoolId:""}},watch:{schoolId:function(){}},created:function(){var t=this;this.$get("/school").then((function(s){t.school=s.data.school}))},methods:{toLogin:function(t){var s=this;this.studentId&&this.password&&this.schoolId?"sign"==t?this.$get("/user/login",{studentId:this.studentId,password:this.$md5(this.password),schoolId:this.schoolId}).then((function(t){if(t.data.status)if(0==t.data.user.state){var e=t.data.user.username?t.data.user.username:t.data.user.studentId;sessionStorage.setItem("user",JSON.stringify(t.data.user)),s.$msg(e+"，登录成功","success"),s.$router.push("/home")}else s.$msg("该用户已被冻结，请联系管理员","error");else s.$msg(t.data.msg,"error")})):this.$post("/user",{studentId:this.studentId,password:this.$md5(this.password),schoolId:this.schoolId}).then((function(t){t.data.status?(s.$msg(t.data.msg,"success"),s.isShow=!1,s.studentId="",s.password="",s.schoolId=""):s.$msg(t.data.msg,"error")})):this.$msg("请填写正确的信息","error")}}},o=i,l=(e("aec5"),e("2877")),r=Object(l["a"])(o,n,a,!1,null,"8d670c0c",null);s["default"]=r.exports},1276:function(t,s,e){"use strict";var n=e("d784"),a=e("44e7"),i=e("825a"),o=e("1d80"),l=e("4840"),r=e("8aa5"),u=e("50c4"),c=e("14c3"),d=e("9263"),p=e("9f7f"),h=p.UNSUPPORTED_Y,v=[].push,m=Math.min,g=4294967295;n("split",2,(function(t,s,e){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var n=String(o(this)),i=void 0===e?g:e>>>0;if(0===i)return[];if(void 0===t)return[n];if(!a(t))return s.call(n,t,i);var l,r,u,c=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,m=new RegExp(t.source,p+"g");while(l=d.call(m,n)){if(r=m.lastIndex,r>h&&(c.push(n.slice(h,l.index)),l.length>1&&l.index<n.length&&v.apply(c,l.slice(1)),u=l[0].length,h=r,c.length>=i))break;m.lastIndex===l.index&&m.lastIndex++}return h===n.length?!u&&m.test("")||c.push(""):c.push(n.slice(h)),c.length>i?c.slice(0,i):c}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:s.call(this,t,e)}:s,[function(s,e){var a=o(this),i=void 0==s?void 0:s[t];return void 0!==i?i.call(s,a,e):n.call(String(a),s,e)},function(t,a){var o=e(n,t,this,a,n!==s);if(o.done)return o.value;var d=i(t),p=String(this),v=l(d,RegExp),f=d.unicode,_=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"g":"y"),w=new v(h?"^(?:"+d.source+")":d,_),I=void 0===a?g:a>>>0;if(0===I)return[];if(0===p.length)return null===c(w,p)?[p]:[];var b=0,x=0,$=[];while(x<p.length){w.lastIndex=h?0:x;var C,y=c(w,h?p.slice(x):p);if(null===y||(C=m(u(w.lastIndex+(h?x:0)),p.length))===b)x=r(p,x,f);else{if($.push(p.slice(b,x)),$.length===I)return $;for(var S=1;S<=y.length-1;S++)if($.push(y[S]),$.length===I)return $;x=b=C}}return $.push(p.slice(b)),$}]}),h)},"44e7":function(t,s,e){var n=e("861d"),a=e("c6b6"),i=e("b622"),o=i("match");t.exports=function(t){var s;return n(t)&&(void 0!==(s=t[o])?!!s:"RegExp"==a(t))}},aec5:function(t,s,e){"use strict";e("cda1")},cda1:function(t,s,e){}}]);
//# sourceMappingURL=chunk-e80f0790.081df99c.js.map