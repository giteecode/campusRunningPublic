(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34f7bdf8"],{"0732":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"registered"},[s("van-nav-bar",{attrs:{title:"注册","left-arrow":""},on:{"click-left":t.comeBack}}),s("div",{staticClass:"module"},[s("login-input",{attrs:{btn:"注册"},scopedSlots:t._u([{key:"prompt",fn:function(){return[s("p",[s("span",{on:{click:function(e){return t.$router.push({name:"mlogin"})}}},[t._v("已有帐号?去登录")])])]},proxy:!0}])})],1)],1)},o=[],a=s("1d5d"),r={name:"Registered",components:{LoginInput:a["a"]},methods:{comeBack:function(){window.history.back()}}},c=r,i=(s("a383"),s("2877")),u=Object(i["a"])(c,n,o,!1,null,"49bdaa0a",null);e["default"]=u.exports},"1d5d":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-form",{on:{submit:t.onSubmit}},[s("van-field",{attrs:{name:"学号","left-icon":"friends-o",placeholder:"请输入学号",rules:[{required:!0,message:"请填写用户名"}]},model:{value:t.studentId,callback:function(e){t.studentId=e},expression:"studentId"}}),s("van-field",{attrs:{type:"password",name:"密码","left-icon":"closed-eye",placeholder:"请输入密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("van-field",{attrs:{readonly:"",clickable:"",name:"picker",value:t.value,"left-icon":"newspaper-o",placeholder:"点击选择学校"},on:{click:function(e){t.showPicker=!0}}}),s("van-popup",{attrs:{position:"bottom"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[s("van-picker",{attrs:{"show-toolbar":"",columns:t.school,"value-key":"name"},on:{confirm:t.onConfirm,cancel:function(e){t.showPicker=!1}}})],1),t._t("prompt"),s("div",{staticStyle:{margin:"16px 0"}},[s("van-button",{attrs:{round:"",block:"","native-type":"submit"}},[t._v(" "+t._s(t.btn)+" ")])],1),s("van-checkbox",{staticStyle:{"font-size":"10px"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("已同意"),s("a",{staticStyle:{color:"red"},attrs:{href:"#"}},[t._v("《平台登陆协议》")]),t._v("及"),s("a",{staticStyle:{color:"red"},attrs:{href:"#"}},[t._v("《隐私政策》")])])],2)},o=[],a=(s("b0c0"),{name:"LoginInput",props:["btn"],data:function(){return{studentId:"",password:"",value:"",schoolId:"",school:[],showPicker:!1,checked:!0}},methods:{onConfirm:function(t){this.value=t.name,this.schoolId=t.id,this.showPicker=!1},onSubmit:function(){var t=this;""!=this.value&&this.checked?"登录"===this.btn?this.$get("/user/login",{studentId:this.studentId,password:this.$md5(this.password),schoolId:this.schoolId}).then((function(e){if(e.data.status)if(0==e.data.user.state){var s=e.data.user.username?e.data.user.username:e.data.user.studentId;sessionStorage.setItem("user",JSON.stringify(e.data.user)),t.$msg(s+"，登录成功","success"),t.$router.push("/m/home")}else t.$msg("该用户已被冻结，请联系管理员","error");else t.$msg(e.data.msg,"error")})):this.$post("/user",{studentId:this.studentId,password:this.$md5(this.password),schoolId:this.schoolId}).then((function(e){e.data.status?(t.$msg(e.data.msg,"success"),t.$router.push("/m/login")):t.$msg(e.data.msg,"error")})):""==this.value?this.$msg("请选择学校","error"):this.$msg("请勾选用户协议","error")}},created:function(){var t=this;this.$get("/school").then((function(e){t.school=e.data.school}))}}),r=a,c=(s("d9a2"),s("2877")),i=Object(c["a"])(r,n,o,!1,null,"2ff9136e",null);e["a"]=i.exports},"63c3":function(t,e,s){},a383:function(t,e,s){"use strict";s("63c3")},b0c0:function(t,e,s){var n=s("83ab"),o=s("9bf2").f,a=Function.prototype,r=a.toString,c=/^\s*function ([^ (]*)/,i="name";n&&!(i in a)&&o(a,i,{configurable:!0,get:function(){try{return r.call(this).match(c)[1]}catch(t){return""}}})},d9a2:function(t,e,s){"use strict";s("e329")},e329:function(t,e,s){}}]);
//# sourceMappingURL=chunk-34f7bdf8.e3b56426.js.map